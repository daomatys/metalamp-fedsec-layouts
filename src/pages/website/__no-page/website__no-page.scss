@import "@variables";

$titleSize: 96px;
$noteSize: 18px;

.no-page {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 400px;
  width: 100%;
  background-image: url('/src/assets/images/raster/misc/not-found.png');
  background-position: top;
  background-repeat: no-repeat;
  background-attachment: fixed;
  object-fit: cover;

  &__not-found {
    &_title {
      text-transform: uppercase;
      font-size: $titleSize;
      line-height: $titleSize;
    }
    &_note {
      font-size: $noteSize;
      line-height: $noteSize;
    }

    &_title,
    &_note {
      position: relative;

      &::before,
      &::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba( $white, .8 );
      }

      &::before {
        left: -2px;
        text-shadow: 1px 0 #ff0000;
        animation: glitch-anim 1.7s infinite linear alternate-reverse;
      }
      &::after {
        left: 2px;
        text-shadow: -1px 0 #008000;
        animation: glitch-anim 1.4s infinite linear alternate-reverse;
      }
    }
  }
}

@keyframes glitch-anim {
  $iterations: 10;

  @for $index from 0 through $iterations {
    #{ percentage( $index * ( 1 / $iterations ) ) } {
      clip: rect( random( $titleSize ) + px, 100vw, random( $titleSize ) + px, 0 );
    }
  }
}
